language: python
python:
    - 3.6
before_install:
    - sudo rm -f /etc/boto.cfg
install:
    - pip install boto3
    - pip install utils
    - pip install moto
    - pip install coverage
addons:
    sonarcloud:
        organization: "usdot-jpo-sdc"
        token:
             secure:$SONAR_TOKEN
script: 
    - coverage erase
    - coverage run -m pytest dataProcessor-tests.py
    - coverage run --append -m pytest utils-tests.py
    - coverage xml -i
    - sonar-scanner
